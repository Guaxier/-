var K=Object.defineProperty;var O=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var T=(r,d,u)=>d in r?K(r,d,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[d]=u,z=(r,d)=>{for(var u in d||(d={}))W.call(d,u)&&T(r,u,d[u]);if(O)for(var u of O(d))X.call(d,u)&&T(r,u,d[u]);return r};import{a as Y,b as Z,c as ee,d as te,e as le}from"./ad.bd1f09f2.js";import{d as q,c as h,b as t,w as l,f as i,g as p,i as D,t as S,x as k,A as R,N as ae,h as F,E as L,Q as oe,_ as M,r as m,D as ne,C as ue,G,a as I,F as $,v as B,L as se,o as ie}from"./index.aa0178c7.js";import{p as de,i as _e}from"./picLib.ebfc09fb.js";import{A as ce,c as re,a as pe}from"./data.88462661.js";import"./useimg.1f5e3688.js";import"./article.12d26598.js";const me={class:"pc-ad-list"},be=q({__name:"ad_list",props:{adseat:{type:Object,required:!0},data:{type:Array,required:!0}},emits:["del","edit"],setup(r,{emit:d}){const u=r,v=a=>{const f=u.adseat;return a in f?u.adseat[a]:""},b=a=>{Y(a).then(f=>{L.success("\u64CD\u4F5C\u6210\u529F"),d("del")})},j=a=>{d("edit",a)};return(a,f)=>{const g=i("el-table-column"),A=i("el-image"),y=i("el-button"),V=i("el-popconfirm"),s=i("el-table"),e=oe("auth");return p(),h("div",me,[t(s,{data:r.data,style:{width:"100%"},class:"table-list"},{default:l(()=>[t(g,{align:"center",type:"index",label:a.$t("msg.table.ranking"),width:"100"},null,8,["label"]),t(g,{align:"center",prop:"title",l:"",label:"AD "+a.$t("msg.table.title"),width:"260"},null,8,["label"]),t(g,{align:"center",label:a.$t("msg.table.adsense"),width:"200"},{default:l(_=>[D(S(v(_.row.banner_id)),1)]),_:1},8,["label"]),t(g,{align:"center",label:a.$t("msg.table.thumbnail"),width:"160"},{default:l(_=>[t(A,{class:"list-box-pic",src:k(R).BASE_URL+_.row.url,alt:_.$index,fit:"fill"},null,8,["src","alt"])]),_:1},8,["label"]),t(g,{align:"center",label:a.$t("msg.table.operation")},{default:l(_=>[t(y,{size:"small",onClick:o=>j(_.$index)},{default:l(()=>[D(S(a.$t("msg.table.edit")),1)]),_:2},1032,["onClick"]),t(V,{title:"\u662F\u5426\u5220\u9664",onConfirm:o=>b(_.row.id)},{reference:l(()=>[ae((p(),F(y,{size:"small",type:"danger",plain:""},{default:l(()=>[D(S(a.$t("msg.table.remove")),1)]),_:1})),[[e,["ArticleDel"]]])]),_:2},1032,["onConfirm"])]),_:1},8,["label"])]),_:1},8,["data"])])}}});const fe=M(be,[["__scopeId","data-v-0fafd565"]]),ve={class:""},ge=["src"],ye={class:"dialog-footer"},he=D("\u53D6\u6D88"),we=D("\u786E\u5B9A"),je=q({__name:"add_ad",props:{isShow:{type:Boolean,required:!0},adseat:{type:Object,required:!0},data:{type:Object,required:!0}},emits:["update:isShow","sub"],setup(r,{emit:d}){const u=r,v=m(!1),b=m([]),j=(o,c)=>{b.value=c,e.img_id=o[0]},a=m(!1),f=m(),g=()=>{f.value=1,v.value=!0},A=ne(u,"isShow",d);function y(){A.value=!1,e.title="",e.banner_id=0,e.jump_type="",e.jump_id=0,e.img_id=0,e.one="",e.two="",b.value=[],d("sub")}const V=m(),s=()=>{if(!a.value)Z(e).then(o=>{L.success("\u65B0\u589E\u6210\u529F"),y()});else{let o=z({id:_.value},e);ee(o).then(c=>{L.success("\u4FEE\u6539\u6210\u529F"),y()})}},e=ue({title:"",banner_id:0,jump_type:"",jump_id:0,img_id:0,one:"",two:""}),_=m();return G(()=>u.data,o=>{console.log(o),b.value=[o.img_url],_.value=o.id,e.title=o.title,e.banner_id=o.banner_id,e.jump_type=o.jump_type,e.jump_id=o.jump_id,e.img_id=o.img_id,e.one=o.one,e.two=o.two,o.title===""?a.value=!1:a.value=!0}),G(()=>e.jump_type,o=>{pe.value=o}),(o,c)=>{const x=i("el-input"),w=i("el-form-item"),E=i("el-option"),U=i("el-select"),J=i("plus"),P=i("el-icon"),Q=i("el-form"),N=i("el-button"),H=i("el-dialog");return p(),h("div",ve,[t(H,{"model-value":k(A),title:(a.value?"\u4FEE\u6539":"\u6DFB\u52A0")+"\u5E7F\u544A",width:"35%",draggable:"",onClose:y},{footer:l(()=>[I("span",ye,[t(N,{onClick:y},{default:l(()=>[he]),_:1}),t(N,{type:"primary",onClick:s},{default:l(()=>[we]),_:1})])]),default:l(()=>[t(Q,{model:e,"label-width":"80px"},{default:l(()=>[t(w,{label:"\u5E7F\u544A\u540D"},{default:l(()=>[t(x,{style:{width:"260px"},modelValue:e.title,"onUpdate:modelValue":c[0]||(c[0]=n=>e.title=n)},null,8,["modelValue"])]),_:1}),t(w,{label:"\u5E7F\u544A\u4F4D"},{default:l(()=>[t(U,{modelValue:e.banner_id,"onUpdate:modelValue":c[1]||(c[1]=n=>e.banner_id=n),placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[(p(!0),h($,null,B(r.adseat,(n,C)=>(p(),F(E,{key:C,label:n,value:C},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(w,{label:"\u8DF3\u8F6C\u7C7B\u578B"},{default:l(()=>[t(U,{modelValue:e.jump_type,"onUpdate:modelValue":c[2]||(c[2]=n=>e.jump_type=n),placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[t(E,{label:"\u65E0",value:""}),(p(!0),h($,null,B(k(ce),n=>(p(),F(E,{key:n.en,label:n.name,value:n.en},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e.jump_type!=""?(p(),F(w,{key:0,label:"\u8DF3\u8F6C\u5230"},{default:l(()=>[t(U,{modelValue:e.jump_id,"onUpdate:modelValue":c[3]||(c[3]=n=>e.jump_id=n),placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[(p(!0),h($,null,B(k(re),n=>{var C;return p(),F(E,{key:n.id,label:(C=n.title)!=null?C:n.name,value:n.id},null,8,["label","value"])}),128))]),_:1},8,["modelValue"])]),_:1})):se("",!0),t(w,{label:"\u9009\u56FE\u7247"},{default:l(()=>[I("div",{class:"select-img",onClick:g},[b.value.toString()===""?(p(),F(P,{key:0,size:30},{default:l(()=>[t(J)]),_:1})):(p(!0),h($,{key:1},B(b.value,n=>(p(),h("img",{key:n,class:"w-full h-full",src:k(R).BASE_URL+n},null,8,ge))),128))])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value","title"]),t(de,{ref_key:"lib",ref:V,modelValue:v.value,"onUpdate:modelValue":c[4]||(c[4]=n=>v.value=n),num:f.value,fatherFun:j},null,8,["modelValue","num"])])}}});const Ae=M(je,[["__scopeId","data-v-e7735530"]]),Ee={class:"page-ad right-main"},Fe={class:"flex"},De=q({__name:"ad",setup(r){const{idGetImg:d}=_e();m("first");const u=m(!1);ie(()=>{v()});function v(){te().then(s=>{a.value=s})}const b=m(),j=m(),a=m(),f=m();function g(){u.value=!0,j.value="mb",y()}le().then(s=>{let e={};s.forEach(_=>{_.type&&(e[_.id]=_.name)}),b.value=e});function A(s){u.value=!0,j.value="mb";const e=a.value[s];V(e)}function y(){f.value={title:"",banner_id:0,jump_type:"",jump_id:0,img_id:0}}function V(s){d(s.img_id).then(_=>{f.value={id:s.id,title:s.title,banner_id:s.banner_id,jump_type:s.jump_type,jump_id:s.jump_id,img_id:s.img_id,img_url:_,one:s.one,two:s.two}})}return(s,e)=>{const _=i("plus"),o=i("el-icon"),c=i("el-button"),x=i("el-col"),w=i("el-row");return p(),h("div",Ee,[t(w,{class:"top-search-box mb-3"},{default:l(()=>[t(x,{span:14},{default:l(()=>[I("div",Fe,[t(c,{type:"primary",onClick:g},{default:l(()=>[t(o,{class:"add-btn",color:"#fff"},{default:l(()=>[t(_)]),_:1}),D(" "+S(s.$t("msg.profile.addAdvert")),1)]),_:1})])]),_:1})]),_:1}),t(fe,{adseat:b.value,data:a.value,onEdit:A,onDel:v},null,8,["adseat","data"]),t(Ae,{adseat:b.value,isShow:u.value,"onUpdate:isShow":e[0]||(e[0]=E=>u.value=E),data:f.value,onSub:v},null,8,["adseat","isShow","data"])])}}});const Ue=M(De,[["__scopeId","data-v-5699bd20"]]);export{Ue as default};
