import{U as h,d as M,r,C as O,o as P,c as m,b as l,w as a,x as q,f as n,g as u,a as k,F as Q,v as j,h as V,i,t as b,L as G,N as H,E as w,Q as J,_ as K}from"./index.aa0178c7.js";const R=()=>h({url:"address_all"}),W=d=>h({url:"address_add",method:"POST",data:d}),X=d=>h({url:"address_up",method:"POST",data:d}),Y=d=>h({url:`address_del?id=${d}`,method:"DELETE"}),Z={class:"page-category-list right-main"},ee={class:"flex items-center"},te={class:"text-left"},le={key:0},ae=i("\u786E\u5B9A"),se=i("\u53D6\u6D88"),ne={key:1},oe={key:0},ue=M({__name:"address",setup(d){const g=r();r();const y=r(),p=r(!0),f=r([]);let x=r({border:!0,stripe:!1});const o=O({pid:"",name:""});P(()=>{v()});const D=()=>{o.pid||o.name?W(o).then(e=>{v()}):w.info("\u5730\u5740\u4E3A\u7A7A")},$=e=>{Y(e).then(s=>{w.success("\u5DF2\u5220\u9664"),v()})},A=(e,s)=>{y.value=s.id,p.value=!0},B=e=>{X({name:e.name,id:e.id}).then(s=>{w.success("\u4FEE\u6539\u6210\u529F"),p.value=!1,v()})},v=()=>{R().then(e=>{g.value=e,f.value=[],F()})};function F(){f.value.push({id:0,level:1,merger_name:"\u9876\u7EA7",name:"\u9876\u7EA7",pid:0}),g.value.forEach(e=>{e.level==1&&f.value.push(e)})}return(e,s)=>{const N=n("el-option"),U=n("el-select"),C=n("el-input"),c=n("el-button"),z=n("el-col"),S=n("el-row"),E=n("el-table-column"),L=n("el-popconfirm"),T=n("el-table"),I=J("auth");return u(),m("div",Z,[l(S,{class:"top-search-box mb-3"},{default:a(()=>[l(z,{span:14},{default:a(()=>[k("div",ee,[l(U,{class:"mr-3",modelValue:o.pid,"onUpdate:modelValue":s[0]||(s[0]=t=>o.pid=t),placeholder:"\u8BF7\u9009\u62E9\u5730\u5740\u7B49\u7EA7",size:"large"},{default:a(()=>[(u(!0),m(Q,null,j(f.value,t=>(u(),V(N,{key:t.id,label:t.merger_name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(C,{modelValue:o.name,"onUpdate:modelValue":s[1]||(s[1]=t=>o.name=t),placeholder:"\u8BF7\u8F93\u5165\u4E8C\u7EA7\u5730\u5740\uFF0C\u5982\u4E00\u680B@\u4E8C\u680B@\u4E09\u680B"},null,8,["modelValue"]),l(c,{type:"primary",class:"ml-10",style:{height:"40px",width:"90px"},onClick:D},{default:a(()=>[i(b(e.$t("msg.table.sub")),1)]),_:1})])]),_:1})]),_:1}),l(T,{data:g.value,border:q(x).border,style:{width:"100%","margin-bottom":"20px"},"default-expand-all":"",class:"table-list"},{default:a(()=>[l(E,{align:"center",type:"index",label:e.$t("msg.table.sortNumber"),width:"100"},null,8,["label"]),l(E,{align:"center",prop:"name",label:e.$t("msg.table.name")},{default:a(t=>[k("div",te,[y.value==t.row.id&&p.value?(u(),m("div",le,[l(C,{style:{width:"70%"},class:"mr-5",modelValue:t.row.name,"onUpdate:modelValue":_=>t.row.name=_},null,8,["modelValue","onUpdate:modelValue"]),l(c,{type:"success",size:"small",onClick:_=>B(t.row)},{default:a(()=>[ae]),_:2},1032,["onClick"]),l(c,{type:"info",size:"small",onClick:s[2]||(s[2]=_=>p.value=!1)},{default:a(()=>[se]),_:1})])):(u(),m("div",ne,[t.row.pid>0?(u(),m("span",oe,"|--")):G("",!0),i(" "+b(t.row.name),1)]))])]),_:1},8,["label"]),l(E,{align:"center",width:"400px",label:e.$t("msg.table.operation")},{default:a(t=>[l(c,{size:"small",onClick:_=>A(t.$index,t.row)},{default:a(()=>[i(b(e.$t("msg.table.edit")),1)]),_:2},1032,["onClick"]),l(L,{title:"\u662F\u5426\u5220\u9664",onConfirm:_=>$(t.row.id)},{reference:a(()=>[H((u(),V(c,{size:"small",type:"danger",plain:""},{default:a(()=>[i(b(e.$t("msg.table.remove")),1)]),_:1})),[[I,["ArticleDel"]]])]),_:2},1032,["onConfirm"])]),_:1},8,["label"])]),_:1},8,["data","border"])])}}});const re=K(ue,[["__scopeId","data-v-2e97f3ef"]]);export{re as default};
